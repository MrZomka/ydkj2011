(()=>{var e={642:e=>{e.exports=class{constructor(){}Play(e){}}},530:e=>{e.exports=class{constructor(){}Play(e){return console.log(e),new Howl({src:[e.audio],volume:null===e.volume?1:e.volume,loop:!!e.loop})}}},794:e=>{e.exports=class{constructor(){this.CreateEgg()}CreateEgg(){this.egg=$("<div/>").addClass("opening-egg").appendTo(Game.wrapper),this.eggBack1=$("<img/>").addClass("opening-egg-back-1").appendTo(this.egg),this.eggBack2=$("<img/>").addClass("opening-egg-back-2").appendTo(this.egg),this.EggEnter()}EggEnter(){}}},759:e=>{e.exports=class{constructor(e,t){this.id=e,this.type=t,this.LoadData()}GetContentPath(){return`resource/content/${this.type}/${this.id}`}LoadData(){fetch(`${this.GetContentPath()}/data.json`).then((e=>e.json())).then((e=>{console.log(`Loaded data for ${this.type} ${this.id}`),this.data=e,console.log(this.data),this.LoadResources()}))}GetField(e){return this.data.fields.find((t=>t.n==e))||{}}GetAudioPath(e){return`${this.GetContentPath()}/${e}.mp3`}LoadResources(){this.data.fields.filter((e=>"A"==e.t&&e.id>-1)).forEach((e=>{e.audio=Game.audioManager.Play({audio:this.GetAudioPath(e.id)}),e.audio.on("load",(()=>console.log(`Loaded audio ${e.id}`)))}))}}},164:e=>{e.exports=class{constructor(e){this.audioManager=e,$.getJSON("resource/talkshow/talkshow.json").then((e=>this.data=e))}Play(e,t){if(e)switch(typeof e){case"string":case"number":return this.audioManager.Play({audio:`resource/talkshow/audio/${e}.mp3`,loop:t});case"object":if(e.length)return this.Play(e[Math.floor(Math.random()*e.length)],t)}}}},478:e=>{e.exports=class{constructor(){this.videoWrapper=$("<div/>").addClass("video-wrapper").appendTo(Game.wrapper)}CreateVideo(e){const t={};e.loop&&(t.loop=!0);const o=$("<video/>").attr(t).css({zIndex:e.layer||1}).append($("<source/>").attr({src:`resource/basic/video/${e.video}.webm`,type:"video/webm"})).appendTo(this.videoWrapper);return e.play&&o[0].play(),o}CreateVideoBackgroundTransition(e,t,o){const s=this.CreateVideo({video:e,layer:2+(o||0)});return s.on("play",(()=>{this.currentVideo=s,this.currentBackground&&this.currentBackground.remove(),this.currentBackground=this.CreateVideo({video:t,layer:1+(o||0),loop:!0}),s.on("ended",(()=>{s.remove(),this.currentBackground[0].play(),this.currentBackground.css({zIndex:6}),this.currentVideo=this.currentBackground}))})),s[0]}CreateSegue(e,t){return this.CreateVideoBackgroundTransition(`Q${e}_1`,`Q${t||e}_2`,2)}pause(e){this.currentVideo&&this.currentVideo[0][e?"pause":"play"]()}}},488:(e,t,o)=>{e.exports=class extends(o(759)){constructor(e){super(e,"episode")}LoadResources(){super.LoadResources(),this.sponsorLogo=$("<img/>").attr("src",`${this.GetContentPath()}/${this.GetField("gLogo").id}.svg`)}LoadPrize(){this.prizeImage=$("<div/>").addClass("prize-image").css({backgroundImage:`url(${this.GetContentPath()}/prize.png)`,backgroundSize:`100% ${100*this.data.prizeFrameCount}%`}),Game.wrapper.append(this.prizeImage)}PlayPrize(){this.prizeAnimation=anime({targets:this.prizeImage[0],backgroundPosition:["0% 0%",`0% ${100*(this.data.prizeFrameCount-1)}%`],duration:1500,easing:`steps(${this.data.prizeFrameCount-1})`,loop:!0})}StopPrize(){this.prizeAnimation.pause(),this.prizeImage.remove()}GetQuestionForIndex(e){const t=this.GetField("tQuestions").split(",")[e];switch(this.GetField("tTypes").split(",")[e]){case"S":return new YDKJShortie(t)}}}},774:(e,t,o)=>{const s=o(530),a=o(478),i=o(642),r=o(164),n=o(488),d=o(794);e.exports=class{constructor(){window.Game=this,this.wrapper=$("<div/>").addClass("wrapper").appendTo(document.body),this.resize(),$(window).on("resize",(()=>this.resize())),this.videoManager=new a,this.audioManager=new s,this.animationManager=new i,this.talkshowManager=new r(this.audioManager),this.episode=new n("606"),this.openingState=new d}resize(){const e=$(window).innerWidth(),t=$(window).innerHeight();this.wrapper.css({transform:`scale(${Math.min(e/1280,t/720)})`,top:t/2-360,left:e/2-640})}}}},t={};function o(s){var a=t[s];if(void 0!==a)return a.exports;var i=t[s]={exports:{}};return e[s](i,i.exports,o),i.exports}(()=>{const e=o(774);$(window).one("click",(()=>new e))})()})();